---
title: "Enviar SMS"
api: "POST /user/sms"
description: "Enviar uma mensagem SMS usando seu número de telefone
"
---

Este endpoint permite enviar mensagens SMS usando os números de telefone adquiridos.\
O SMS será enviado por meio do Twilio e os custos serão automaticamente deduzidos do saldo da sua conta.

### Corpo da solicitação

<ParamField body="from" type="integer" required>
  O ID do seu número de telefone a partir do qual o SMS será enviado (deve ter capacidade para SMS)
</ParamField>

<ParamField body="to" type="string" required>
  O número de telefone do destinatário no formato internacional (exemplo: +1234567890)
</ParamField>

<ParamField body="body" type="string" required>
  O conteúdo da mensagem SMS (máximo de 300 caracteres)
</ParamField>

### Respostas

<ResponseField name="message" type="string">
  Mensagem de sucesso confirmando que o SMS foi enviado
</ResponseField>

<ResponseField name="data" type="object">
  <Expandable title="Propriedades">
    <ResponseField name="id" type="integer">
      O identificador exclusivo do registro do SMS
    </ResponseField>
    <ResponseField name="phone_number_id" type="integer">
      O ID do número de telefone usado para enviar o SMS
    </ResponseField>
    <ResponseField name="to" type="string">
      O número de telefone do destinatário no formato E.164
    </ResponseField>
    <ResponseField name="body" type="string">
      O conteúdo da mensagem SMS
    </ResponseField>
    <ResponseField name="user_id" type="integer">
      O ID do usuário que enviou o SMS
    </ResponseField>
    <ResponseField name="segments" type="integer">
      Número de segmentos de SMS (para fins de cobrança)
    </ResponseField>
    <ResponseField name="segment_price" type="number">
      Custo por segmento de SMS
    </ResponseField>
    <ResponseField name="total_cost" type="number">
      Custo total do SMS (segment_price \* segments)
    </ResponseField>
    <ResponseField name="status" type="string">
      O status atual do SMS
    </ResponseField>
    <ResponseField name="sms_sid" type="string">
      SID do SMS do Twilio para rastreamento
    </ResponseField>
    <ResponseField name="created_at" type="string">
      A data e hora em que o SMS foi criado
    </ResponseField>
    <ResponseField name="updated_at" type="string">
      A data e hora da última atualização do SMS
    </ResponseField>
  </Expandable>
</ResponseField>

### Respostas de Erro

<ResponseField name="400 Bad Request">
  <Expandable title="Respostas de Erro">
    <ResponseField name="message" type="string">
      Mensagem de erro descrevendo o problema (número de telefone inválido, saldo insuficiente, etc.)
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="500 Internal Server Error">
  <Expandable title="Resposta de Erro">
    <ResponseField name="message" type="string">
      Mensagem de erro indicando falha no envio do SMS
    </ResponseField>
    <ResponseField name="error" type="string">
      Informações detalhadas do erro
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseExample>

```json 201 Success Response
{
  "message": "SMS sent successfully",
  "data": {
    "id": 456,
    "phone_number_id": 78,
    "to": "+1234567890",
    "body": "Hello! This is a test message from Your Company. How can we help you today?",
    "user_id": 1,
    "segments": 1,
    "segment_price": 0.0075,
    "total_cost": 0.0075,
    "status": "sent",
    "sms_sid": "SM1234567890abcdef1234567890abcdef",
    "created_at": "2025-08-04 15:30:00",
    "updated_at": "2025-08-04 15:30:02"
  }
}
```


```json 400 Bad Request
{
  "message": "From number not found"
}
```


```json 400 Bad Request
{
  "message": "Invalid to phone number"
}
```


```json 400 Bad Request
{
  "message": "Insufficient balance"
}
```


```json 400 Bad Request
{
  "message": "From number is not SMS capable"
}
```


```json 500 Internal Server Error
{
  "message": "Failed to send SMS",
  "error": "Twilio API error details"
}
```

</ResponseExample>

### **Observações**

- O número de telefone do remetente deve pertencer ao usuário autenticado.
- O número de telefone do remetente deve ter capacidade para SMS.
- A assinatura do número de telefone deve estar ativa (não expirada).
- É necessário saldo suficiente na conta para cobrir os custos de SMS.
- Os números de telefone são automaticamente formatados para o formato E.164.
- Os custos de SMS variam de acordo com o país de destino e são cobrados por segmento.
- Mensagens longas podem ser divididas em vários segmentos, aumentando o custo.
- O número de telefone do destinatário deve ser válido de acordo com os padrões internacionais.